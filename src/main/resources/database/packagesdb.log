/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
CREATE TABLE packages_hats (\u000aID INT NOT NULL,\u000aNAME VARCHAR(60) NOT NULL,\u000aPAYLOAD INT NOT NULL\u000a)
CREATE TABLE PACKAGES_ALIASES (\u000aID INT NOT NULL,\u000aALIAS VARCHAR(30) NOT NULL\u000a)
CREATE TABLE PACKAGES_INFO (\u000aPACKAGE_ID INT NOT NULL,\u000aVERSION_ID INT NOT NULL,\u000aPAYLOAD_PATH VARCHAR(260) NOT NULL,\u000aLICENSE INT,\u000aCONSTRAINT INSTANCE_ID PRIMARY KEY (PACKAGE_ID, VERSION_ID)\u000a)
CREATE TABLE LICENCES (\u000aID INT NOT NULL, \u000aNAME VARCHAR(20) NOT NULL,\u000aPRIMARY KEY (ID)\u000a)
CREATE TABLE DEPENDENCIES (\u000aID INT NOT NULL,\u000aPACKAGE_ID INT NOT NULL,\u000aVERSION_ID INT NOT NULL)
INSERT INTO LICENCES VALUES(0,'MIT')
COMMIT
INSERT INTO LICENCES VALUES(1,'Bear')
COMMIT
INSERT INTO LICENCES VALUES(2,'Apache')
COMMIT
INSERT INTO LICENCES VALUES(3,'GPL')
COMMIT
ALTER TABLE "PUBLIC"."PACKAGES_HATS" DROP COLUMN PAYLOAD
ALTER TABLE "PUBLIC"."PACKAGES_HATS" ADD COLUMN PAYLOAD_TYPE INT NOT NULL
CREATE TABLE PAYLOADS (\u000aID INT NOT NULL,\u000aTYPE VARCHAR(30) NOT NULL,\u000aPRIMARY KEY(ID)\u000a)
INSERT INTO PAYLOADS VALUES(0,'Binary')
COMMIT
INSERT INTO PAYLOADS VALUES(1,'Library')
COMMIT
INSERT INTO PAYLOADS VALUES(2,'Documentation')
COMMIT
ALTER TABLE PACKAGES_HATS DROP COLUMN ID 
 ALTER TABLE PACKAGES_HATS ADD COLUMN ID INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY (START WITH 0)
INSERT INTO PACKAGES_HATS VALUES('PetOS Kernel',0,0)
COMMIT
INSERT INTO PACKAGES_HATS VALUES('PetOS Edit',0,1)
COMMIT
INSERT INTO PACKAGES_HATS VALUES('CDROM Driver',0,2)
COMMIT
INSERT INTO PACKAGES_HATS VALUES('Network Driver',0,3)
COMMIT
INSERT INTO PACKAGES_ALIASES VALUES(0,'kernel')
COMMIT
INSERT INTO PACKAGES_ALIASES VALUES(1,'edit')
COMMIT
INSERT INTO PACKAGES_ALIASES VALUES(2,'cdrom-driver')
COMMIT
INSERT INTO PACKAGES_ALIASES VALUES(3,'network-driver')
COMMIT
ALTER TABLE PACKAGES_INFO ALTER COLUMN PACKAGE_ID INT GENERATED BY DEFAULT AS IDENTITY (START WITH 0)
DROP TABLE packages_info
CREATE TABLE PACKAGES_INFO (\u000aPACKAGE_ID INT NOT NULL,\u000aVERSION_ID INT NOT NULL,\u000aPAYLOAD_PATH VARCHAR(260) NOT NULL,\u000aLICENCE INT,\u000aCONSTRAINT INSTANCE_ID PRIMARY KEY(PACKAGE_ID, VERSION_ID)\u000a)
INSERT INTO PACKAGES_INFO VALUES(0,0,'/home/Paval/Development/Programs/PUM/payloads/kernels/kernel_0.0.1.iso',0)
COMMIT
DROP TABLE DEPENDENCIES
CREATE TABLE DEPENDENCIES(\u000aPACKAGE_ID INT NOT NULL,\u000aVERSION_ID INT NOT NULL,\u000aDEPENDENCY_PACKAGE INT NOT NULL,\u000aDEPENDENCY_VERSION INT NOT NULL\u000a)
ALTER TABLE PACKAGES_INFO ADD VERSION_LABEL VARCHAR(15)
ALTER TABLE PACKAGES_INFO ALTER COLUMN VERSION_LABEL SET NULL
ALTER TABLE PACKAGES_INFO DROP COLUMN VERSION_LABEL
ALTER TABLE PACKAGES_INFO ADD COLUMN VERSION_LABEL VARCHAR(15) NULL
DELETE FROM PACKAGES_INFO WHERE PACKAGE_ID=0 AND VERSION_ID=0
INSERT INTO PACKAGES_INFO VALUES(0,0,'/home/Paval/Development/Programs/PUM/payloads/kernels/kernel_0.0.1.iso',0,'0.0.1')
COMMIT
ALTER TABLE PACKAGES_INFO ALTER COLUMN VERSION_LABEL SET NOT NULL
DISCONNECT
